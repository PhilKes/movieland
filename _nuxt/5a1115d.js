(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{649:function(e,n,t){var content=t(709);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(14).default)("6a65f176",content,!0,{sourceMap:!1})},651:function(e,n,t){"use strict";t(55),t(33);var o={name:"MovieAdd",components:{MoviesTable:t(625).default},props:{repos:Object,existingMovies:Array},data:function(){return{selected:[],loading:!1}},methods:{submit:function(){this.$emit("submit",this.$refs.searchTable.selected.map((function(e){return{name:e.name}})))}}},r=t(53),l=t(65),c=t.n(l),v=t(106),d=t(109),h=t(54),x=t(619),f=t(617),m=t(593),component=Object(r.a)(o,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",{staticClass:"dialog-card"},[t("v-card-title",[e._v("Add New Movie")]),e._v(" "),t("v-container",[t("v-row",{attrs:{justify:"center"}}),e._v(" "),t("v-row",{attrs:{justify:"center"}},[t("movies-table",{ref:"searchTable",attrs:{"existing-movies":e.existingMovies,repos:e.repos}})],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"secondary",outlined:""},on:{click:function(n){return e.$emit("submit",!1)}}},[e._v("Cancel")]),e._v(" "),t("v-btn",{attrs:{color:"success"},on:{click:e.submit}},[e._v("Add")])],1)],1)}),[],!1,null,"b7511368",null);n.a=component.exports;c()(component,{MoviesTable:t(625).default}),c()(component,{VBtn:v.a,VCard:d.a,VCardActions:h.a,VCardTitle:h.c,VContainer:x.a,VRow:f.a,VSpacer:m.a})},706:function(e,n,t){var content=t(707);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(14).default)("48751daa",content,!0,{sourceMap:!1})},707:function(e,n,t){(n=t(13)(!1)).push([e.i,'.theme--light.v-expansion-panels .v-expansion-panel{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-expansion-panels .v-expansion-panel--disabled{color:rgba(0,0,0,.38)}.theme--light.v-expansion-panels .v-expansion-panel:not(:first-child):after{border-color:rgba(0,0,0,.12)}.theme--light.v-expansion-panels .v-expansion-panel-header .v-expansion-panel-header__icon .v-icon{color:rgba(0,0,0,.54)}.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:hover:before{opacity:.04}.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:before,.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:hover:before,.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:focus:before{opacity:.12}.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:focus:before{opacity:.16}.theme--light.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover:hover:before{opacity:.04}.theme--light.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover--active:before,.theme--light.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover--active:hover:before,.theme--light.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover:focus:before{opacity:.12}.theme--light.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover--active:focus:before{opacity:.16}.theme--dark.v-expansion-panels .v-expansion-panel{background-color:#1e1e1e;color:#fff}.theme--dark.v-expansion-panels .v-expansion-panel--disabled{color:hsla(0,0%,100%,.5)}.theme--dark.v-expansion-panels .v-expansion-panel:not(:first-child):after{border-color:hsla(0,0%,100%,.12)}.theme--dark.v-expansion-panels .v-expansion-panel-header .v-expansion-panel-header__icon .v-icon{color:#fff}.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:hover:before{opacity:.08}.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:before,.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:hover:before,.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:focus:before{opacity:.24}.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:focus:before{opacity:.32}.theme--dark.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover:hover:before{opacity:.08}.theme--dark.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover--active:before,.theme--dark.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover--active:hover:before,.theme--dark.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover:focus:before{opacity:.24}.theme--dark.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover--active:focus:before{opacity:.32}.v-expansion-panels{border-radius:4px;display:flex;flex-wrap:wrap;justify-content:center;list-style-type:none;padding:0;width:100%;z-index:1}.v-expansion-panels>*{cursor:auto}.v-expansion-panels>:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.v-expansion-panels>:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--active{border-radius:4px}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--active+.v-expansion-panel{border-top-left-radius:4px;border-top-right-radius:4px}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--next-active{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--next-active .v-expansion-panel-header{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-expansion-panel{flex:1 0 100%;max-width:100%;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-expansion-panel:before{border-radius:inherit;bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:-1;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-expansion-panel:not(:first-child):after{border-top:thin solid;content:"";left:0;position:absolute;right:0;top:0;transition:border-color .2s cubic-bezier(.4,0,.2,1),opacity .2s cubic-bezier(.4,0,.2,1)}.v-expansion-panel--disabled .v-expansion-panel-header{pointer-events:none}.v-expansion-panel--active+.v-expansion-panel,.v-expansion-panel--active:not(:first-child){margin-top:16px}.v-expansion-panel--active+.v-expansion-panel:after,.v-expansion-panel--active:not(:first-child):after{opacity:0}.v-expansion-panel--active>.v-expansion-panel-header{min-height:64px}.v-expansion-panel--active>.v-expansion-panel-header--active .v-expansion-panel-header__icon:not(.v-expansion-panel-header__icon--disable-rotate) .v-icon{transform:rotate(-180deg)}.v-expansion-panel-header__icon{display:inline-flex;margin-bottom:-4px;margin-top:-4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-application--is-ltr .v-expansion-panel-header__icon{margin-left:auto}.v-application--is-rtl .v-expansion-panel-header__icon{margin-right:auto}.v-expansion-panel-header{align-items:center;border-top-left-radius:inherit;border-top-right-radius:inherit;display:flex;font-size:.9375rem;line-height:1;min-height:48px;outline:none;padding:16px 24px;position:relative;transition:min-height .3s cubic-bezier(.25,.8,.5,1);width:100%}.v-application--is-ltr .v-expansion-panel-header{text-align:left}.v-application--is-rtl .v-expansion-panel-header{text-align:right}.v-expansion-panel-header:not(.v-expansion-panel-header--mousedown):focus:before{opacity:.12}.v-expansion-panel-header:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s cubic-bezier(.25,.8,.5,1)}.v-expansion-panel-header>:not(.v-expansion-panel-header__icon){flex:1 1 auto}.v-expansion-panel-content{display:flex}.v-expansion-panel-content__wrap{padding:0 24px 16px;flex:1 1 auto;max-width:100%}.v-expansion-panels--accordion>.v-expansion-panel{margin-top:0}.v-expansion-panels--accordion>.v-expansion-panel:after{opacity:1}.v-expansion-panels--popout>.v-expansion-panel{max-width:calc(100% - 32px)}.v-expansion-panels--popout>.v-expansion-panel--active{max-width:calc(100% + 16px)}.v-expansion-panels--inset>.v-expansion-panel{max-width:100%}.v-expansion-panels--inset>.v-expansion-panel--active{max-width:calc(100% - 32px)}.v-expansion-panels--flat>.v-expansion-panel:after{border-top:none}.v-expansion-panels--flat>.v-expansion-panel:before{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-expansion-panels--tile,.v-expansion-panels--tile>.v-expansion-panel:before{border-radius:0}',""]),e.exports=n},708:function(e,n,t){"use strict";var o=t(649);t.n(o).a},709:function(e,n,t){(n=t(13)(!1)).push([e.i,".v-data-table tbody tr[data-v-54dc3c6c]:hover:not(.v-data-table__expanded__content){background:transparent!important}.show-item[data-v-54dc3c6c]{width:6em;height:2em;text-align:center;background-color:rgba(199,57,57,.3);margin-bottom:.1rem}.show-item[data-v-54dc3c6c]:hover{cursor:pointer;background-color:rgba(199,57,57,.6)}.show-item p[data-v-54dc3c6c]{color:#600}.show-time[data-v-54dc3c6c]{background-color:var(--v-primary-lighten2);color:var(--v-primary-lighten4)}.show-time[data-v-54dc3c6c]:hover{color:var(--v-primary-lighten5)}",""]),e.exports=n},719:function(e,n,t){"use strict";t.r(n);t(24),t(8),t(95),t(55),t(33),t(21),t(56),t(9),t(58),t(82);var o=t(19),r=t(1),l=t.n(r),c=t(174),v=(t(651),{name:"ShowAdd",components:{MoviesTable:t(625).default},props:{repos:Object,movies:Array},data:function(){return{selected:[],loading:!0,date:l()(new Date).format("YYYY-MM-DD HH:mm"),panel:0,movieSelected:!1,dateSelected:!0}},methods:{submit:function(){var e=this;this.$emit("submit",this.$refs.searchTable.selected.map((function(n){return{movId:n.movId,date:l()(e.date)}})))},onMovieSelect:function(e){this.movieSelected=1===this.$refs.searchTable.selected.length&&!1!==e.value||!0===e.value||this.$refs.searchTable.selected.length>1&&!1===e.value,!0===this.movieSelected&&(this.panel=1)}}}),d=t(53),h=t(65),x=t.n(h),f=t(106),m=t(109),w=t(54),y=t(652),_=t(619),k=(t(11),t(7),t(15),t(16),t(10),t(3)),O=t(155),j=t(88),S=t(0),D=t(4);function P(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}var C=Object(D.a)(Object(O.a)("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(j.b)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(n){Object(k.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(e){this.content=e},unregisterContent:function(){this.content=null},registerHeader:function(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var e=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return e.$emit("change")}))}},render:function(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(S.s)(this))}}),M=t(125),$=t(162),A=t(23),V=Object(D.a)($.a,A.a,Object(j.a)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(e){var n=this;return e(M.a,this.showLazyContent((function(){return[e("div",n.setBackgroundColor(n.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:n.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},Object(S.s)(n))])]})))}}),T=t(66),R=t(83);function I(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function B(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(n){Object(k.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}var E=Object(D.a)(A.a,Object(j.a)("expansionPanel","v-expansion-panel-header","v-expansion-panel")).extend().extend({name:"v-expansion-panel-header",directives:{ripple:R.a},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(e){this.$emit("click",e)},genIcon:function(){var e=Object(S.s)(this,"actions")||[this.$createElement(T.a,this.expandIcon)];return this.$createElement(M.c,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render:function(e){var n=this;return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button"},directives:[{name:"ripple",value:this.ripple}],on:B(B({},this.$listeners),{},{click:this.onClick,mousedown:function(){return n.hasMousedown=!0},mouseup:function(){return n.hasMousedown=!1}})}),[Object(S.s)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),Y=(t(140),t(141),t(706),t(163)),z=t(6);function H(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(n){Object(k.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}var L=Y.a.extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return W(W({},Y.a.options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(z.a)("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"==typeof this.value[0]&&Object(z.a)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(e,n){var t=this.getValue(e,n),o=this.getValue(e,n+1);e.isActive=this.toggleMethod(t),e.nextIsActive=this.toggleMethod(o)}}}),U=t(130),J=t(617),N=t(593),component=Object(d.a)(v,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",{staticClass:"dialog-card"},[t("v-card-title",[e._v("Add New Show")]),e._v(" "),t("v-container",[t("v-row",{attrs:{justify:"center"}},[t("v-expansion-panels",{attrs:{accordion:"",tile:""},model:{value:e.panel,callback:function(n){e.panel=n},expression:"panel"}},[t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-chip",{staticClass:"no-hover",attrs:{color:"transparent"}},[e.movieSelected?t("v-icon",{attrs:{color:"success",dense:"",left:"",size:"18"}},[e._v("\n                fas fa-check-circle\n              ")]):e._e(),e._v(" "),t("h2",[e._v("Select Movie")])],1)],1),e._v(" "),t("v-expansion-panel-content",[t("movies-table",{ref:"searchTable",attrs:{"existing-movies":e.movies,repos:e.repos,"single-select":"","no-tmdb":""},on:{select:e.onMovieSelect}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-chip",{staticClass:"no-hover",attrs:{color:"transparent"}},[e.dateSelected?t("v-icon",{attrs:{color:"success",dense:"",left:"",size:"18"}},[e._v("\n                fas fa-check-circle\n              ")]):e._e(),e._v(" "),t("h2",[e._v("Select Date and Time")])],1)],1),e._v(" "),t("v-expansion-panel-content",[t("v-row",[t("v-spacer"),e._v(" "),t("VueCtkDateTimePicker",{attrs:{"text-field-props":{outlined:!0},"minute-interval":10,color:"var(--v-primary-base)","no-button-now":"",inline:"",format:"YYYY-MM-DD HH:mm","no-keyboard":""},model:{value:e.date,callback:function(n){e.date=n},expression:"date"}}),e._v(" "),t("v-spacer")],1)],1)],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"secondary",outlined:""},on:{click:function(n){return e.$emit("submit",!1)}}},[e._v("Cancel")]),e._v(" "),t("v-btn",{attrs:{color:"success",disabled:!e.movieSelected||!e.dateSelected},on:{click:e.submit}},[e._v("Add")])],1)],1)}),[],!1,null,"3ef5dbd3",null),F=component.exports;x()(component,{MoviesTable:t(625).default}),x()(component,{VBtn:f.a,VCard:m.a,VCardActions:w.a,VCardTitle:w.c,VChip:y.a,VContainer:_.a,VExpansionPanel:C,VExpansionPanelContent:V,VExpansionPanelHeader:E,VExpansionPanels:L,VIcon:U.a,VRow:J.a,VSpacer:N.a});var G={name:"AdminShows",data:function(){return{dates:l()().format("YYYY-MM-DD"),movieInfos:[],headers:[{value:"posterUrl",text:"Poster",sortable:!1,width:"80px",align:"center"},{value:"details",text:"Details",align:"center"},{value:"shows",text:"Shows",width:"30%",sortable:!1,align:"center"},{text:"Actions",value:"actions",sortable:!1,align:"center"}],selected:[],loading:!0,search:""}},fetch:function(){return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},mounted:function(){this.findShows()},methods:{findShows:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,n.next=3,e.$repos.shows.showInfos(e.dates);case 3:e.movieInfos=n.sent,e.loading=!1;case 5:case"end":return n.stop()}}),n)})))()},selectToday:function(){this.dates=l()().format("YYYY-MM-DD"),this.findShows()},deleteSingleShow:function(e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$dialog.showAndWait(c.a,{text:"Do you really want to delete this show?",title:"Delete Show",width:"400px",submitText:"Delete"});case 2:!0===t.sent&&(n.loading=!0,n.$repos.shows.remove(e.showId).then((function(e){n.findShows(),n.loading=!1})));case 4:case"end":return t.stop()}}),t)})))()},deleteMovieShows:function(e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.shows.map((function(e){return l()(e.date).format("DD.MM HH:mm [h]")})).join("<br/>"),t.next=3,n.$dialog.showAndWait(c.a,{text:"Do you really want to delete these shows ?<br/><b>Movie:</b><br/>".concat(e.name,"<br/><b>Dates:</b><br/>").concat(o),title:"Delete Shows",width:"400px",submitText:"Delete",cancel:!0});case 3:if(!0!==t.sent){t.next=9;break}return n.loading=!0,t.next=8,n.$repos.shows.removeList(e.shows.map((function(e){return e.showId})));case 8:n.findShows();case 9:case"end":return t.stop()}}),t)})))()},deleteSelectedMovies:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var t,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.selected.map((function(e){return e.name})).join("<br/>"),n.next=3,e.$dialog.showAndWait(c.a,{text:"Do you really want to delete all Shows for<br/><b>Dates:</b><br/>".concat(e.dates,"<br/><b>Movies:</b><br/>").concat(t,"<br/>"),title:"Delete Shows",width:"400px",submitText:"Delete",cancel:!0});case 3:if(!0!==n.sent){n.next=12;break}return o=[],e.selected.forEach((function(e){return e.shows.forEach((function(e){return o.push(e.showId)}))})),e.loading=!0,n.next=10,e.$repos.shows.removeList(o);case 10:e.selected=[],e.findShows();case 12:case"end":return n.stop()}}),n)})))()},addShow:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var t,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$repos.movies.all();case 2:return t=n.sent,n.next=5,e.$dialog.showAndWait(F,{width:"800px",repos:e.$repos,movies:t});case 5:(o=n.sent)&&!1!==o&&(e.loading=!0,r=[],o.forEach((function(n){r.push(e.$repos.shows.add(n))})),Promise.all(r).then((function(n){e.$dialog.message.success("Show succesfully added!",{position:"bottom-left",timeout:3e3}),console.debug("Added",n),e.findShows()})));case 7:case"end":return n.stop()}}),n)})))()}},computed:{dateRangeText:function(){return this.dates}},head:function(){return{title:"Admin Shows for ".concat(this.dates)}}},K=(t(708),t(613)),Q=t(733),X=t(720),Z=t(717),ee=t(170),ne=t(660),te=t(669),ae=t(47),oe=Object(d.a)(G,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-row",{attrs:{justify:"center"}},[t("h4",[e._v("Movie Shows")])]),e._v(" "),t("v-row",{attrs:{justify:"center"}},[t("v-col",{attrs:{cols:"12",md:"10"}},[t("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.loading,headers:e.headers,items:e.movieInfos,"item-key":"movId","sort-desc":"","sort-by":"date",search:e.search,"items-per-page":10,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[[t("v-toolbar",{staticClass:"pt-2",attrs:{flat:""}},[t("v-menu",{staticClass:"mt-4",attrs:{transition:"scale-transition","close-on-content-click":!0,"min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[t("v-combobox",e._g(e._b({attrs:{"hide-details":"",label:"Date Range","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateRangeText,callback:function(n){e.dateRangeText=n},expression:"dateRangeText"}},"v-combobox",r,!1),o))]}}])},[e._v(" "),t("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.dates,callback:function(n){e.dates=n},expression:"dates"}})],1),e._v(" "),t("v-btn",{attrs:{color:"primary",tile:""},on:{click:e.selectToday}},[e._v(" Today ")]),e._v(" "),t("v-btn",{staticClass:"mr-2 rounded-tr rounded-br",attrs:{color:"success",tile:""},on:{click:e.findShows}},[t("v-icon",[e._v("fas fa-search")])],1),e._v(" "),t("v-btn",{attrs:{color:"error",disabled:e.selected.length<1||e.loading},on:{click:e.deleteSelectedMovies}},[t("v-icon",[e._v("fas fa-trash")])],1),e._v(" "),t("v-btn",{attrs:{color:"success"},on:{click:e.addShow}},[t("v-icon",[e._v("fas fa-plus")])],1)],1)]]},proxy:!0},{key:"item.posterUrl",fn:function(e){var n=e.item;return[t("v-img",{attrs:{src:n.posterUrl,"max-width":"80"}})]}},{key:"item.details",fn:function(n){var o=n.item;return[e._v("\n          "+e._s(o.name)),t("br"),e._v("\n          ("+e._s(e._f("formatDate")(o.date))+")\n        ")]}},{key:"item.shows",fn:function(n){var o=n.item;return[t("v-row",{attrs:{justify:"center"}},[t("v-simple-table",{staticStyle:{"background-color":"transparent"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("tbody",e._l(o.shows,(function(n,r){return t("tr",[t("td",{staticClass:"border-no-bottom"},[t("v-row",{attrs:{dense:"",justify:"center",align:"center","align-content":"center"}},[t("div",{staticClass:"show-item",on:{click:function(t){return e.$router.push("/movies/"+o.movId+"/shows/"+n.showId)}}},[t("p",[e._v("\n                            "+e._s(e._f("formatTime")(n.date))+"\n                            "),t("v-btn",{staticClass:"btn-tiny",attrs:{fab:"",color:"error",elevation:"0"},on:{click:function(t){return t.stopPropagation(),e.deleteSingleShow(n)}}},[t("v-icon",[e._v("fas fa-trash")])],1)],1)])])],1)])})),0)]},proxy:!0}],null,!0),model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}})],1)]}},{key:"item.actions",fn:function(n){var o=n.item;return[t("v-btn",{staticClass:"mr-2",attrs:{fab:"","x-small":"",color:"error",elevation:"0"},on:{click:function(n){return e.deleteMovieShows(o)}}},[t("v-icon",[e._v("fas fa-trash")])],1)]}}]),model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}})],1)],1)],1)}),[],!1,null,"54dc3c6c",null);n.default=oe.exports;x()(oe,{VBtn:f.a,VCol:K.a,VCombobox:Q.a,VContainer:_.a,VDataTable:X.a,VDatePicker:Z.a,VIcon:U.a,VImg:ee.a,VMenu:ne.a,VRow:J.a,VSimpleTable:te.a,VToolbar:ae.a})}}]);